{% extends 'base.html.twig' %}

{% block title %}Hello CategoryController!{% endblock %}

{% block body %}
	<div class="container">
		{% include('_partials/flashes.html.twig') %}
	    <h1>Les categories</h1>
    	<div class="divider my-3"></div>
    	<div class="txt-center">
    		<a class="btn press shadow-1 rounded-1 blue my-3" href="{{path("categories_new")}}">Créer une Catégorie</a>
    	</div>
   		<div class="divider my-3"></div>
	    <div class="grix xs1 sm4 gutter-xs4 txt-center">
		    {% if categories is empty  %} 
		        <p>Il n'y a pas de données</p>
		    {% else %}
			{% for categorie in categories %}
			    <div class="card shadow-1 rounded-3">
	    			<div class="card-content">
			            <div class="card-header">{{ categorie.name }}</div>
			            {{ categorie.content|raw}}
			        </div>
			        <div class="grix xs1 sm2 mx-2 mb-2">
			         	<a class="btn press shadow-1 rounded-1 blue" href="{{path('categories_update', {"id":categorie.id})}}">Editer</a>
			        <form method="post" action="{{path('delete_categorie', {"id":categorie.id})}}">
			        	<input type="hidden" name="_method" value="delete">
			        	<button class="btn press shadow-1 rounded-1 blue" onclick="return confirm('Etes-vous sur de supprimer la categorie {{categorie.name}} ?')">Supprimer</button>
			        </form>
					{#<a href="{{ path('delete_categorie',{"id":categorie.id})}}" class="btn shadow-1 rounded-1 blue">Supprimer</a>#}
				</div>
		        </div>
		        {% endfor %}
		    {% endif %}
		</div>
    </div>
{% endblock %}
